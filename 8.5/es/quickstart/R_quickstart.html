<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Guía de inicio rápido de R &mdash; OSGeo-Live 8.5
 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.5
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="OSGeo-Live 8.5
 Documentation" href="../../index.html" />
    <link rel="up" title="Bienvenido a OSGeo-Live 8.5" href="../index.html" />
    <link rel="next" title="Guía de inicio rápido de AtlasStyler" href="atlasstyler_quickstart.html" />
    <link rel="prev" title="Getting Started with IPython Notebook" href="IPython_quickstart.html" /> 
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>
    <link rel="shortcut icon" href="../../_images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../_images/favicon.ico" type="image/x-icon">

  </head>
  <body>
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../standards/standards.html">Standards</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
            </ul>
        </div>
    </div>

    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <img alt="project logo" class="align-right" src="../../_images/logo-R9.png" />
<div class="section" id="guia-de-inicio-rapido-de-r">
<h1>Guía de inicio rápido de R<a class="headerlink" href="#guia-de-inicio-rapido-de-r" title="Permalink to this headline">¶</a></h1>
<p>R provee un entorno de software libre para trabajar con estadísticas y gráficos.</p>
<p>Esta guía describe cómo:</p>
<blockquote>
<div><ul class="simple">
<li>usar R para aritmética simple</li>
<li>cargar datos desde un archivo shape y mapearlo</li>
<li>hacer transformación de coordenadas</li>
<li>dibujar puntos en un mapa</li>
</ul>
</div></blockquote>
<div class="section" id="iniciar-r">
<h2>Iniciar R<a class="headerlink" href="#iniciar-r" title="Permalink to this headline">¶</a></h2>
<p>Puedes:</p>
<blockquote>
<div><ul class="simple">
<li>Elegir <tt class="docutils literal"><span class="pre">R</span> <span class="pre">Statistics</span></tt> en la sección de Spatial Tools del menú y aparecerá una ventana de terminal corriendo R.</li>
<li>En la línea de commandos ejectuar <tt class="docutils literal"><span class="pre">R</span></tt> y se iniciará en esa terminal.</li>
</ul>
</div></blockquote>
<p>No le tengas miedo a la línea de comandos porque es una grandiosa fuente de poder. Puedes usar las flechas hacia arriba y hacia abajo para llamar nuevamente a comandos que ya hayas ejecutado y editar los errores que puedas haber cometido. Si te atascas, aprieta CTRL-C y podrás ejectuar un nuevo comando.</p>
</div>
<div class="section" id="salir-de-r">
<h2>Salir de R<a class="headerlink" href="#salir-de-r" title="Permalink to this headline">¶</a></h2>
<p>Casi todo en R es una función, incluída la función de salir. Escribe <tt class="docutils literal"><span class="pre">q()</span></tt> y aprieta enter. Si sólo escribes <tt class="docutils literal"><span class="pre">q</span></tt>, verás el código fuente de la función <tt class="docutils literal"><span class="pre">q</span></tt>.</p>
<p>R te preguntará si quieres guardar tu espacio de trabajo como un archivo de imagen de datos R. Cuando arranques nuevamente R desde un directorio con <tt class="docutils literal"><span class="pre">.RData</span></tt>, los datos serán recuperados desde ahí.</p>
</div>
<div class="section" id="empezando-con-r">
<h2>Empezando con R<a class="headerlink" href="#empezando-con-r" title="Permalink to this headline">¶</a></h2>
<p>R es escencialmente un programa de línea de comandos aunque también están disponibles algunas interfaces gráficas. Escribes una línea de código, aprietas enter, y el intérprete de R evalúa el código e imprime los resultados.</p>
<p>Puedes empezar con artimética simple:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; 3*2
[1] 6

&gt; 1 + 2 * 3 / 4
[1] 2.5

&gt; sqrt(2)
[1] 1.414214

&gt; pi * exp(-1)
[1] 1.155727
</pre></div>
</div>
<p>Hay un completo rango de funciones aritméticas, trigonométricas y estadísticas, y hay miles más disponibles como paquetes en el archivo <a class="reference external" href="http://cran.r-project.org/">CRAN</a>.</p>
<p>El <em>prompt</em> principal de R es <tt class="docutils literal"><span class="pre">&gt;</span></tt>, pero también hay un <em>prompt</em> de continuación, <tt class="docutils literal"><span class="pre">+</span></tt>, que aparece si R espera más datos de entrada para que una expresión sea válida. Lo verás si te olvidas de cerrar un corchete o un paréntesis.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; sqrt(
+ 2
+ )
[1] 1.414214
</pre></div>
</div>
</div>
<div class="section" id="construyendo-datos">
<h2>Construyendo Datos<a class="headerlink" href="#construyendo-datos" title="Permalink to this headline">¶</a></h2>
<p>Debes estar preguntándote qué significa ese &#8216;uno&#8217; entre corchetes en la salida. Eso te está diciendo que el resultado es un número. R puede almacenar cosas en vectores de una dimensión, matrices de dos dimensiones y matrices multidimensionales. Hay muchas funciones que pueden generar estas cosas. Por ejemplo, esta secuencia simple:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; seq(1,5,len=10)
[1] 1.000000 1.444444 1.888889 2.333333 2.777778 3.222222 3.666667 4.111111
[9] 4.555556 5.000000
</pre></div>
</div>
<p>Ahora puedes ver que el <tt class="docutils literal"><span class="pre">[9]</span></tt> nos está diciendo que 4.555 es el noveno valor en el vector.</p>
<p>Si construyes una matriz obtienes valores en filas y columnas:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; m=matrix(1:12,3,4)
&gt; m
     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12
</pre></div>
</div>
<p>Los elementos de las matrices pueden ser extraídos usando corchetes, con los índices de fila y columna separados por coma. Deja el índice en blanco para obtener la fila completa como un vector. Usa el índice del vector para obtener múltiples filas o columnas como una matriz más pequeña:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; m[2,4]
[1] 11

&gt; m[2,]
[1]  2  5  8 11

&gt; m[,3:4]
     [,1] [,2]
[1,]    7   10
[2,]    8   11
[3,]    9   12
</pre></div>
</div>
<p>Las tramas de datos son estructuras que se asemejan a las estructuras encontradas en las bases de datos relacionales como Postgres o MySQL. Cada fila puede ser pensada como un registro con las columnas siendo los campos en la base de datos. Como en una base de datos, cada campo debe ser del mismo tipo en cada registro.</p>
<p>En varias formas, trabajan como matrices pero también puedes obtener un conjunto de columnas por nombre, usando la notación $-.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; d = data.frame(x=1:10,y=1:10,z=runif(10)) # z is 10 random numbers
&gt; d
        x  y          z
    1   1  1 0.44128080
    2   2  2 0.09394331
    3   3  3 0.51097462
    4   4  4 0.82683828
    5   5  5 0.21826740
    6   6  6 0.65600533
    7   7  7 0.59798278
    8   8  8 0.19003625
    9   9  9 0.24004866
    10 10 10 0.35972749

&gt; d$z
 [1] 0.44128080 0.09394331 0.51097462 0.82683828 0.21826740 0.65600533
 [7] 0.59798278 0.19003625 0.24004866 0.35972749

&gt; d$big = d$z &gt; 0.6  # d$big is now a boolean true/false value
&gt; d[1:5,]
  x y          z   big
1 1 1 0.44128080 FALSE
2 2 2 0.09394331 FALSE
3 3 3 0.51097462 FALSE
4 4 4 0.82683828  TRUE
5 5 5 0.21826740 FALSE

&gt; d$name = letters[1:10] # create a new field of characters
&gt; d[1:5,]
  x y          z   big name
  1 1 1 0.44128080 FALSE    a
  2 2 2 0.09394331 FALSE    b
  3 3 3 0.51097462 FALSE    c
  4 4 4 0.82683828  TRUE    d
  5 5 5 0.21826740 FALSE    e
</pre></div>
</div>
</div>
<div class="section" id="cargando-datos-de-mapa">
<h2>Cargando Datos de Mapa<a class="headerlink" href="#cargando-datos-de-mapa" title="Permalink to this headline">¶</a></h2>
<p>Hay muchos paquetes para manipular datos espaciales. Algunos están incluídos y algunso puede ser bajados desde CRAN.</p>
<p>Aquí vamos a cargar dos archivos shape, los límites del país y los lugares populares desde los datos de <em>Natural Earth</em>. Usamos dos paquetes extras para obtener la funcionalidad espacial:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; library(sp)
&gt; library(maptools)

&gt; countries = readShapeSpatial(&quot;/usr/local/share/data/natural_earth/10m_admin_0_countries.shp&quot;)
&gt; places = readShapeSpatial(&quot;/usr/local/share/data/natural_earth/10m_populated_places_simple.shp&quot;)
&gt; plot(countries)
</pre></div>
</div>
<p>Esto nos da un mapa simple del mundo:</p>
<img alt="../../_images/r_plot14.png" src="../../_images/r_plot14.png" />
<p>Cuando un conjunto de datos OGR es introducido en R obtenemos como respuesta un objeto que se comporta de muchas formas como una trama de datos. Podemos usar el campo <tt class="docutils literal"><span class="pre">ADMIN</span></tt> para obtener sólo el Reino Unido:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; uk = countries[countries$ADMIN==&quot;United Kingdom&quot;,]
&gt; plot(uk); axis(1); axis(2)
</pre></div>
</div>
<img alt="../../_images/r_plot24.png" src="../../_images/r_plot24.png" />
<p>Esto parece un poco aplastado para los que vivimos aquí, ya que estamos familiarizados con un sistema de coordenadas centrado en nuestra latitud. En este momento, el objeto no tiene un sistema de coordenadas asignado y podemos verificarlo con algunas funciones:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; proj4string(uk)
[1] NA
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">NA</span></tt> es un indicador de falta de datos. Necesitamos asignar un CRS al objeto antes de que podamos tranformarlo con la función spTransform del paquete rgdal. Lo transformamos a EPSG:27700 que es el sistema del servicio estatal de cartografía de Gran Bretaña:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; proj4string(uk)=CRS(&quot;+init=epsg:4326&quot;)
&gt; library(rgdal)
&gt; ukos = spTransform(uk,CRS(&quot;+init=epsg:27700&quot;))
&gt; proj4string(ukos)
[1] &quot; +init=epsg:27700 +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs
+towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894&quot;

&gt; plot(ukos);axis(1);axis(2)
</pre></div>
</div>
<p>Esto dibuja el mapa de los datos transformados. Ahora queremos agregar algunos puntos del conjunto de lugares populares. Otra vez, filtramos los puntos y los transformamos:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; ukpop = places[places$ADM0NAME==&quot;United Kingdom&quot;,]
&gt; proj4string(ukpop)=CRS(&quot;+init=epsg:4326&quot;)
&gt; ukpop = spTransform(ukpop,CRS(&quot;+init=epsg:27700&quot;))
</pre></div>
</div>
<p>Agregamos estos puntos al mapa base, escalamos su tamaño de acuerdo a la raíz cuadrada de su población (eso define un símbolo con área proporcional a la población), y definimos el color del símbolo y el estilo de los caracteres:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; points(ukpop,cex=sqrt(ukpop$POP_MAX/1000000),col=&quot;red&quot;,pch=19)
&gt; title(&quot;UK Population centre sizes&quot;)
</pre></div>
</div>
<p>y nuestra imagen final aparece:</p>
<img alt="../../_images/r_plot34.png" src="../../_images/r_plot34.png" />
</div>
<div class="section" id="vinetas">
<h2>Viñetas<a class="headerlink" href="#vinetas" title="Permalink to this headline">¶</a></h2>
<p>En el pasado, la documenación de los paquetes de R tendían a ser simplemente páginas de ayuda para cada función. Ahora, los autores de los paquetes se han animado a escribir una &#8216;viñeta&#8217; como una introducción amigable al paquete. Si ejecutas la función <tt class="docutils literal"><span class="pre">vignette()</span></tt> sin argumentos, obtendrás una lista de viñetas de tu sistema. Prueba <tt class="docutils literal"><span class="pre">vignette(&quot;sp&quot;)</span></tt> para un ligera introducción técnica a las estructuras espaciales de R, o <tt class="docutils literal"><span class="pre">vignette(&quot;spdep&quot;)</span></tt> para análisis estadístico de autocorrelación espacial. La función <tt class="docutils literal"><span class="pre">vignette(&quot;gstat&quot;)</span></tt> te da un tutuorial de cómo usar ese paquete para interpolaciones espaciales, incluyendo Kriging.</p>
</div>
<div class="section" id="mas-para-leer">
<h2>Más para leer<a class="headerlink" href="#mas-para-leer" title="Permalink to this headline">¶</a></h2>
<p>Para información general acerca de R, prueba con <a class="reference external" href="http://cran.r-project.org/doc/manuals/R-intro.html">Introduction to R</a> o cualquier documentación de la página principal del <a class="reference external" href="http://www.r-project.org/">Proyecto R</a>.</p>
<p>Para más información en los aspectos espaciales de R, el mejor lugar para empezar es probablemente <a class="reference external" href="http://cran.r-project.org/web/views/Spatial.html">R Spatial Task View</a></p>
<p>También podrías mirar la página <a class="reference external" href="http://r-spatial.sourceforge.net/">R-Spatial</a> para obtener más links, incluyendo información acerca de la lista de mail R-sig-Geo.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>

  </body>
</html>