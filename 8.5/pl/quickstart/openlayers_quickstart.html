<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenLayers Quickstart &mdash; OSGeo-Live 8.5
 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.5
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="OSGeo-Live 8.5
 Documentation" href="../../index.html" />
    <link rel="up" title="Zawartość OSGeo-Live 8.5" href="../overview/overview.html" />
    <link rel="next" title="Wprowadzenie do osgEarth" href="osgearth_quickstart.html" />
    <link rel="prev" title="OpenJUMP Quickstart" href="openjump_quickstart.html" /> 
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>
    <link rel="shortcut icon" href="../../_images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../_images/favicon.ico" type="image/x-icon">

  </head>
  <body>
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../standards/standards.html">Standards</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
            </ul>
        </div>
    </div>

    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="openlayers-quickstart">
<h1><a class="toc-backref" href="#id1">OpenLayers Quickstart</a><a class="headerlink" href="#openlayers-quickstart" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="http://openlayers.org/"><img alt="project logo" class="align-right" src="../../_images/logo-OpenLayers.png" style="width: 100.0px; height: 100.8px;" /></a>
<p>This Quick Start describes some basic steps required to start working with OpenLayers3: creating a basic map, adding raster and vector layers and styling features.</p>
<p>OpenLayers3 is a light-weight mapping library for web and mobile clients which uses modern browser technologies, such as HTML5, WebGL and CSS3.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#openlayers-quickstart" id="id1">OpenLayers Quickstart</a><ul>
<li><a class="reference internal" href="#core-concepts" id="id2">Core Concepts</a></li>
<li><a class="reference internal" href="#a-basic-map" id="id3">A basic map</a></li>
<li><a class="reference internal" href="#adding-raster-layers" id="id4">Adding raster layers</a></li>
<li><a class="reference internal" href="#adding-vector-layers" id="id5">Adding vector layers</a></li>
<li><a class="reference internal" href="#styling-features" id="id6">Styling features</a></li>
<li><a class="reference internal" href="#working-with-events" id="id7">Working with events</a></li>
<li><a class="reference internal" href="#what-next" id="id8">What Next?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="core-concepts">
<h2><a class="toc-backref" href="#id2">Core Concepts</a><a class="headerlink" href="#core-concepts" title="Permalink to this headline">¶</a></h2>
<p>Before we start working with OpenLayers it helps to understand OpenLayers core concepts:</p>
<dl class="docutils">
<dt><strong>Map</strong></dt>
<dd>The <em>map</em> is the core component of OpenLayers. For a <em>map</em> to render, a <em>view</em>, one or more <em>layers</em>, and a target container are needed.</dd>
<dt><strong>View</strong></dt>
<dd>The <em>view</em> determines how the map is rendered. It is used to set the resolution, the center location, etc. It is like a camera through which we look at the map&#8217;s content.</dd>
<dt><strong>Layers</strong></dt>
<dd><em>Layers</em> can be added to the map in a stacked order, that is, lower layers are rendered before upper layers.  Layers can be either <em>raster layers</em> (images), or <em>vector layers</em> (points/lines/polygons).</dd>
<dt><strong>Source</strong></dt>
<dd>Each layer has a <em>source</em> attached, which knows how to load the layer content.
In the case of <em>vector layers</em>, its source read vector data
using a <em>format</em> class (for example GeoJSON or KML) and fill the layer
with a set of <em>features</em>.</dd>
<dt><strong>Features</strong></dt>
<dd><em>Features</em> represent real world things and can be rendered using different
<em>geometries</em> (like point, line or polygon) using a given <em>style</em>, which
determines its look (line thinkness, fill color, etc).</dd>
</dl>
</div>
<div class="section" id="a-basic-map">
<h2><a class="toc-backref" href="#id3">A basic map</a><a class="headerlink" href="#a-basic-map" title="Permalink to this headline">¶</a></h2>
<p>In this step we will create a basic map.</p>
<p>Create a file in say /home/user/ called basic-map.html , and copy the following into the file.</p>
<div class="highlight-html"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Basic map<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">&gt;</span>

        <span class="c">&lt;!-- OpenLayers CSS --&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;http://ol3js.org/en/master/build/ol.css&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>

        <span class="c">&lt;!-- Custom styles --&gt;</span>
        <span class="nt">&lt;style&gt;</span>
          <span class="nf">#map</span> <span class="p">{</span>
            <span class="k">width</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
            <span class="k">height</span><span class="o">:</span> <span class="m">500px</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="nt">&lt;/style&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span>Basic map<span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;map&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>

        <span class="c">&lt;!-- OpenLayers JS--&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://ol3js.org/en/master/build/ol.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

        <span class="c">&lt;!-- App code --&gt;</span>
        <span class="nt">&lt;script&gt;</span>
          <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">Map</span><span class="p">({</span>
            <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;map&#39;</span><span class="p">,</span>
            <span class="nx">renderer</span><span class="o">:</span> <span class="s1">&#39;canvas&#39;</span><span class="p">,</span>
            <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span>
              <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Tile</span><span class="p">({</span>
                <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">OSM</span><span class="p">()</span>
              <span class="p">})</span>
            <span class="p">],</span>
            <span class="nx">view</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">View</span><span class="p">({</span>
              <span class="nx">center</span><span class="o">:</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">proj</span><span class="p">.</span><span class="nx">transform</span><span class="p">([</span><span class="mf">2.1833</span><span class="p">,</span> <span class="mf">41.3833</span><span class="p">],</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="s1">&#39;EPSG:3857&#39;</span><span class="p">),</span>
              <span class="nx">zoom</span><span class="o">:</span> <span class="mi">6</span>
            <span class="p">})</span>
          <span class="p">});</span>
        <span class="nt">&lt;/script&gt;</span>

    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p><strong>Ex. 1</strong>: Basic code structure</p>
<p>Now try opening basic-map.html from a web browser. You should see the following:</p>
<a class="reference internal image-reference" href="../../_images/openlayers-basic-map.png"><img alt="../../_images/openlayers-basic-map.png" src="../../_images/openlayers-basic-map.png" style="width: 711.0px; height: 620.0px;" /></a>
<p>Note:</p>
<ul class="simple">
<li>The code follows the best practice of loading JavaScipt code at the end of the html file.</li>
<li>An OpenLayers map needs to be attached to a HTML DOM element, so we have created a <tt class="docutils literal"><span class="pre">&lt;div&gt;</span></tt> element identified by the <em>map</em> tag.</li>
<li>Maps are represented by the <tt class="docutils literal"><span class="pre">ol.Map</span></tt> class. We specify the DOM element to render the map into using the <strong>target</strong> property.</li>
<li>OpenLayers allows map rendering using three different mechanisms: Canvas, WebGL and DOM. Here we select <em>canvas</em> using the <strong>renderer</strong> property.</li>
<li>A map shows data contained within layers, so we have created a tiled layer, represented by the <tt class="docutils literal"><span class="pre">ol.layer.Tile</span></tt> class, that loads content from the OpenStreetMap project, using the <tt class="docutils literal"><span class="pre">ol.source.OSM</span></tt> source class.</li>
<li>Finally, we set the initial position of the <em>camera</em> using the <tt class="docutils literal"><span class="pre">ol.View</span></tt> class, set the initial zoom level and center location.</li>
</ul>
</div>
<div class="section" id="adding-raster-layers">
<h2><a class="toc-backref" href="#id4">Adding raster layers</a><a class="headerlink" href="#adding-raster-layers" title="Permalink to this headline">¶</a></h2>
<p>The most used raster layers are the tiled layers, provided by the likes of
OpenStreetMap, MapQuest, Bing, etc. Tiled layers are represented by the
<tt class="docutils literal"><span class="pre">ol.layer.Tile</span></tt> class and must use a source that knows how to load tiles from
a given provider, like <tt class="docutils literal"><span class="pre">ol.source.OSM</span></tt> or <tt class="docutils literal"><span class="pre">ol.source.MapQuest</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">osm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Tile</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">OSM</span><span class="p">()</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">mq</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Tile</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">MapQuest</span><span class="p">({</span>
    <span class="nx">layer</span><span class="o">:</span> <span class="s1">&#39;osm&#39;</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 2:</strong> Create raster layers</p>
<p>Layers can be added to the map in two ways:</p>
<ol class="arabic simple">
<li>When constructing the <tt class="docutils literal"><span class="pre">ol.Map</span></tt>, using the <tt class="docutils literal"><span class="pre">layers</span></tt> property:</li>
</ol>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">Map</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span><span class="nx">osm</span><span class="p">,</span> <span class="nx">mq</span><span class="p">]</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 3:</strong> Adding layers on map initialization</p>
<ol class="arabic simple" start="2">
<li>Adding manually with the <tt class="docutils literal"><span class="pre">map.addLayer()</span></tt> method:</li>
</ol>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">osm</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">mq</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Ex. 4:</strong> Adding layers manually</p>
</div>
<div class="section" id="adding-vector-layers">
<h2><a class="toc-backref" href="#id5">Adding vector layers</a><a class="headerlink" href="#adding-vector-layers" title="Permalink to this headline">¶</a></h2>
<p>Vector layers are represented by the <tt class="docutils literal"><span class="pre">ol.layer.Vector</span></tt> and must use a
source suitable for reading the vector format, like <tt class="docutils literal"><span class="pre">ol.source.GeoJSON</span></tt>,
<tt class="docutils literal"><span class="pre">ol.source.KML</span></tt> or <tt class="docutils literal"><span class="pre">ol.source.TopoJSON</span></tt>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">vectorLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">GeoJSON</span><span class="p">({</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;url_to_geojson_file&#39;</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 5:</strong> Constructing a GeoJSON vector layer</p>
<a class="reference internal image-reference" href="../../_images/openlayers-vector.png"><img alt="../../_images/openlayers-vector.png" src="../../_images/openlayers-vector.png" style="width: 518.0px; height: 277.0px;" /></a>
<p>Note, in the previous code we must change the <tt class="docutils literal"><span class="pre">url_to_file</span></tt> to point to a
valid GeoJSON file placed in our server.
Note that Javascript security will prevents sourcing of datasets from an external URL on a different domain.</p>
<p>Features can also be created manually. In this case we need to create a geometry
that represents the feature:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="c1">// Geometries</span>
<span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">geom</span><span class="p">.</span><span class="nx">Point</span><span class="p">(</span>
    <span class="nx">ol</span><span class="p">.</span><span class="nx">proj</span><span class="p">.</span><span class="nx">transform</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="s1">&#39;EPSG:3857&#39;</span><span class="p">)</span>
<span class="p">);</span>
<span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">geom</span><span class="p">.</span><span class="nx">Circle</span><span class="p">(</span>
    <span class="nx">ol</span><span class="p">.</span><span class="nx">proj</span><span class="p">.</span><span class="nx">transform</span><span class="p">([</span><span class="mf">2.1833</span><span class="p">,</span> <span class="mf">41.3833</span><span class="p">],</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span> <span class="s1">&#39;EPSG:3857&#39;</span><span class="p">),</span>
    <span class="mi">1000000</span>
<span class="p">);</span>

<span class="c1">// Features</span>
<span class="kd">var</span> <span class="nx">pointFeature</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">Feature</span><span class="p">(</span><span class="nx">point</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">circleFeature</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">Feature</span><span class="p">(</span><span class="nx">circle</span><span class="p">);</span>

<span class="c1">// Source</span>
<span class="kd">var</span> <span class="nx">vectorSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
    <span class="nx">projection</span><span class="o">:</span> <span class="s1">&#39;EPSG:4326&#39;</span>
<span class="p">});</span>
<span class="nx">vectorSource</span><span class="p">.</span><span class="nx">addFeatures</span><span class="p">([</span><span class="nx">pointFeature</span><span class="p">,</span> <span class="nx">circleFeature</span><span class="p">]);</span>

<span class="c1">// Vector layer</span>
<span class="kd">var</span> <span class="nx">vectorLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="nx">vectorSource</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 6:</strong> Adding features by hand</p>
</div>
<div class="section" id="styling-features">
<h2><a class="toc-backref" href="#id6">Styling features</a><a class="headerlink" href="#styling-features" title="Permalink to this headline">¶</a></h2>
<p>Features within vector layers can be styled.
The style is determined by a combination of fill, stroke, text  and image, which are all optional. In addition, a style can be applied to a layer, which determines the style of all contained features, or to an individual feature.</p>
<p>An style is represented by the <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> class which has properties to set the <tt class="docutils literal"><span class="pre">fill</span></tt>, <tt class="docutils literal"><span class="pre">stroke</span></tt>, <tt class="docutils literal"><span class="pre">text</span></tt> and <tt class="docutils literal"><span class="pre">image</span></tt> to be applied. The next example shows the World&#8217;s administrative limits styled to use a green fill and stroke:</p>
<a class="reference internal image-reference" href="../../_images/openlayers-styling.png"><img alt="../../_images/openlayers-styling.png" src="../../_images/openlayers-styling.png" style="width: 555.0px; height: 283.0px;" /></a>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">limitsLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">StaticVector</span><span class="p">({</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;data/world_limits.json&#39;</span><span class="p">,</span>
    <span class="nx">format</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">format</span><span class="p">.</span><span class="nx">TopoJSON</span><span class="p">(),</span>
    <span class="nx">projection</span><span class="o">:</span> <span class="s1">&#39;EPSG:3857&#39;</span>
  <span class="p">}),</span>
  <span class="nx">style</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
    <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;rgba(55, 155, 55, 0.3)&#39;</span>
    <span class="p">}),</span>
    <span class="nx">stroke</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Stroke</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;rgba(55, 155, 55, 0.8)&#39;</span><span class="p">,</span>
      <span class="nx">width</span><span class="o">:</span> <span class="mi">1</span>
    <span class="p">}),</span>
    <span class="nx">image</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Circle</span><span class="p">({</span>
      <span class="nx">radius</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
      <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;rgba(55, 155, 55, 0.5)&#39;</span><span class="p">,</span>
      <span class="p">})</span>
    <span class="p">})</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 7:</strong> Styling features</p>
<p>In the code, we have loaded a TopoJSON file and styled it through the <tt class="docutils literal"><span class="pre">style</span></tt> property.
We have set a <tt class="docutils literal"><span class="pre">fill</span></tt> and <tt class="docutils literal"><span class="pre">stroke</span></tt>, required for lines and polygons, and an
<tt class="docutils literal"><span class="pre">image</span></tt> (in this case a circle) used for point features.</p>
</div>
<div class="section" id="working-with-events">
<h2><a class="toc-backref" href="#id7">Working with events</a><a class="headerlink" href="#working-with-events" title="Permalink to this headline">¶</a></h2>
<p>Most of the components, like map, layers or controls, trigger events to notify changes. For example we can be notified each time the mouse is moved over the map, when a feature is added to a vector layer, etc.</p>
<p>Events can be easily registered on object with the <tt class="docutils literal"><span class="pre">on()</span></tt> method and unregistered with <tt class="docutils literal"><span class="pre">un()</span></tt>.</p>
<p>The next code registers an event on a map instance, and is notified each time the pointer is moved. Within the callback function we obtain the pointer coordinates and print in the browser console in two different projections.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;pointermove&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">coord3857</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">coordinate</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">coord4326</span> <span class="o">=</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">proj</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">coord3857</span><span class="p">,</span> <span class="s1">&#39;EPSG:3857&#39;</span><span class="p">,</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">coord3857</span><span class="p">,</span> <span class="nx">coord4326</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>Ex. 8:</strong> Printing pointer position.</p>
</div>
<div class="section" id="what-next">
<h2><a class="toc-backref" href="#id8">What Next?</a><a class="headerlink" href="#what-next" title="Permalink to this headline">¶</a></h2>
<p>Sometimes the quickest way to work out how OpenLayers works is to look at examples
and its source code. You can find OpenLayers3 examples installed at: <a class="reference external" href="../../openlayers/examples">http://localhost/openlayers/examples</a>.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>

  </body>
</html>