<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>R Quickstart &mdash; OSGeo-Live 9.5
 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '9.5
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="OSGeo-Live 9.5
 Documentation" href="../../index.html" />
    <link rel="up" title="OSGeo-Live 9.5 Inhaltsverzeichnis" href="../overview/overview.html" />
    <link rel="next" title="AtlasStyler Quickstart" href="atlasstyler_quickstart.html" />
    <link rel="prev" title="52°North WSS Quickstart" href="52nWSS_quickstart.html" /> 
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>
    <link rel="shortcut icon" href="../../_images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../_images/favicon.ico" type="image/x-icon">

  </head>
  <body>
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../standards/standards.html">Standards</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>

    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <img alt="project logo" class="align-right" src="../../_images/logo-R3.png" />
<div class="section" id="r-quickstart">
<h1>R Quickstart<a class="headerlink" href="#r-quickstart" title="Permalink to this headline">¶</a></h1>
<p>R ist eine freie Software-Umgebung für statistische Berechnungen und Grafik.</p>
<p>Dieser Quick Start beschreibt, wie man:</p>
<blockquote>
<div><ul class="simple">
<li>R für einfache Arithmetik benutzt</li>
<li>ein Shapefile lädt und darstellt</li>
<li>eine Koordinatentransformation durchführt</li>
<li>Datenpunkte auf eine Karte plottet</li>
</ul>
</div></blockquote>
<div class="section" id="r-starten">
<h2>R starten<a class="headerlink" href="#r-starten" title="Permalink to this headline">¶</a></h2>
<p>Entweder:</p>
<blockquote>
<div><ul class="simple">
<li>Wähle <tt class="docutils literal"><span class="pre">R</span> <span class="pre">Statistics</span></tt> aus dem Menü Geospatial - Spatial Tools - ein Konsolenfenster mit R startet.</li>
<li>Gebe <tt class="docutils literal"><span class="pre">R</span></tt> in ein Konsolenfenster. R startet dann in dem Fenster.</li>
</ul>
</div></blockquote>
<p>Keine Angst vor der Kommandozeile - es ist eine Quelle großer Macht. Mit der Aufwärts- und
Abwärts Pfeiltasten können Sie Befehle zurückholen und die Tastenkombination CTRL-C gibt den
Eingabepromt wieder, wenn Sie mal irgendwo stecken bleiben.</p>
</div>
<div class="section" id="r-beenden">
<h2>R beenden<a class="headerlink" href="#r-beenden" title="Permalink to this headline">¶</a></h2>
<p>Fast alles in R ist eine Funktion, inklusive der Funktion zum Beenden. Tippen Sie <tt class="docutils literal"><span class="pre">q()</span></tt>
und drücken dann Return. Wenn Sie nur <tt class="docutils literal"><span class="pre">q</span></tt> tippen, sehen Sie den Quellcode der Funktion <tt class="docutils literal"><span class="pre">q</span></tt>.</p>
<p>R fragt Sie dann, ob Sie die letzte Session als R data image speichern wollen. Wenn Sie
R aus einem Ordner mit einer <tt class="docutils literal"><span class="pre">.RData</span></tt> Datei starten, werden alle Daten daraus wieder
integriert.</p>
</div>
<div class="section" id="r-einfuhrung">
<h2>R Einführung<a class="headerlink" href="#r-einfuhrung" title="Permalink to this headline">¶</a></h2>
<p>R ist im Wesentlichen ein Kommandozeilen-Programm, obwohl auch grafische
Benutzeroberflächen zur Verfügung stehen. Sie geben einen Code-Zeile ein,
drücken die Eingabetaste, und der R-Interpreter wertet sie aus und druckt
das Ergebnis.</p>
<p>Sie können mit einer einfachen Arithmetik starten</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; 3*2
[1] 6

&gt; 1 + 2 * 3 / 4
[1] 2.5

&gt; sqrt(2)
[1] 1.414214

&gt; pi * exp(-1)
[1] 1.155727
</pre></div>
</div>
<p>Und so weiter. Eine vollständige Palette von Arithmetik, trigonometrischen und
statistischen Funktionen sind integriert, und weitere tausende Pakete im
<a class="reference external" href="http://cran.r-project.org/">CRAN</a> Archiv.</p>
<p>Der Hauptpprompt in R ist <tt class="docutils literal"><span class="pre">&gt;</span></tt>, aber es gibt auch die Fortsetzungs-Eingabeaufforderung
<tt class="docutils literal"><span class="pre">+</span></tt>, die erscheint, wenn R mit mehr rechnet, damit ein gültiger Ausdruck enststeht. Das
werden Sie sehen, wenn Sie z.B. vergessen, eine Klammer zu schliessen.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; sqrt(
+ 2
+ )
[1] 1.414214
</pre></div>
</div>
</div>
<div class="section" id="daten-erstellen">
<h2>Daten erstellen<a class="headerlink" href="#daten-erstellen" title="Permalink to this headline">¶</a></h2>
<p>Sie fragen sich vielleicht, was die geheimnisvolle &#8216;1&#8217; in eckigen Klammern
in der Ausgabe ist. Das zeigt Ihnen, dass das Ergebnis eine Zahl ist. R kann
Dinge in eindimensionalen Vektoren, zweidimensionalen Matrizen und
mehrdimensionalen Arrays speichern. Es gibt viele Funktionen, die diese Dinge
erzeugen können. Hier ist eine einfache Sequenz:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; seq(1,5, len=10)
[1] 1.000000 1.444444 1.888889 2.333333 2.777778 3.222222 3.666667 4.111111
[9] 4.555556 5.000000
</pre></div>
</div>
<p>Jetzt können Sie sehen, dass die `` [9] `` sagt, dass die 4,555 der neunte
Wert in dem Vektor ist.</p>
<p>Wenn Sie eine Matrix konstruieren, bekommen Sie Zeilen- und Spaltenbeschriftungen:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; m = matrix(1:12, 3, 4)
&gt; m
     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12
</pre></div>
</div>
<p>Elemente von Matrizen extrahiert man mit eckigen Klammern, mit Zeilen und Spalten
Indizes durch Komma getrennt. Lassen Sie einen Index leer, um eine ganze Zeile als
Vektor erhalten. Verwenden Sie einen Vektor Index, um mehrere Zeilen oder Spalten
als eine kleinere Matrix zu erhalten:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; m[2,4]
[1] 11

&gt; m[2,]
[1]  2  5  8 11

&gt; m[,3:4]
     [,1] [,2]
[1,]    7   10
[2,]    8   11
[3,]    9   12
</pre></div>
</div>
<p>Daten-Frames sind Datenstrukturen, die die Art der Struktur in einem RDBMS wie
Postgres oder MySQL spiegeln. Jede Zeile kann als ein Datensatz gedacht werden,
mit Spalten, wie Felder in einer Datenbank. Wie in einer Datenbank müssen die
einzelnen Felder den gleichen Typ für jeden Datensatz besitzen.</p>
<p>In vielerlei Hinsicht funktionieren sie wie Matrizen, aber Sie können die Spalten
auch über Namen ansprechen mit $-Notation:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; d = data.frame(x=1:10, y=1:10, z=runif(10)) # z sind 10 Zufallszahlen
&gt; d
        x  y          z
    1   1  1 0.44128080
    2   2  2 0.09394331
    3   3  3 0.51097462
    4   4  4 0.82683828
    5   5  5 0.21826740
    6   6  6 0.65600533
    7   7  7 0.59798278
    8   8  8 0.19003625
    9   9  9 0.24004866
    10 10 10 0.35972749

&gt; d$z
 [1] 0.44128080 0.09394331 0.51097462 0.82683828 0.21826740 0.65600533
 [7] 0.59798278 0.19003625 0.24004866 0.35972749

&gt; d$big = d$z &gt; 0.6  # d$big ist jetzt ein boolean true / false-Wert
&gt; d[1:5,]
  x y          z   big
1 1 1 0.44128080 FALSE
2 2 2 0.09394331 FALSE
3 3 3 0.51097462 FALSE
4 4 4 0.82683828  TRUE
5 5 5 0.21826740 FALSE

&gt; d$name = letters[1:10] # erstelle ein neues Character Feld
&gt; d[1:5,]
  x y          z   big name
  1 1 1 0.44128080 FALSE    a
  2 2 2 0.09394331 FALSE    b
  3 3 3 0.51097462 FALSE    c
  4 4 4 0.82683828  TRUE    d
  5 5 5 0.21826740 FALSE    e
</pre></div>
</div>
</div>
<div class="section" id="karten-laden">
<h2>Karten laden<a class="headerlink" href="#karten-laden" title="Permalink to this headline">¶</a></h2>
<p>Es gibt viele Pakete für räumliche Datenmanipulation und deren statistische
Analyse. Einige sind bereits hier enthalten, und einige können vom CRAN Server
heruntergeladen werden.</p>
<p>Hier werden wir zwei Shapefiles herunterladen - die Landesgrenzen und die
besiedelten Orte aus dem Natural Earth Datensatz. Wir verwenden zwei Add-on
Pakete, um die notwendige Funktionalität zu bekommen:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; library(sp)
&gt; library(maptools)

&gt; countries = readShapeSpatial(&quot;/usr/local/share/data/natural_earth2/ne_10m_admin_0_countries.shp&quot;)
&gt; places = readShapeSpatial(&quot;/usr/local/share/data/natural_earth2/ne_10m_populated_places.shp&quot;)
&gt; plot(countries)
</pre></div>
</div>
<p>Damit stellen wir eine einfache Weltkarte dar:</p>
<img alt="../../_images/r_plot11.png" src="../../_images/r_plot11.png" />
<p>Wenn ein OGR Datensatz auf diese Weise nach R eingelesen wird, bekommen wir ein Objekt,
dass sich in vielerlei Hinsicht wie ein Daten Frame verhält. Wir können die Spalte
<tt class="docutils literal"><span class="pre">COUNTRY</span></tt> benutzen, um eine Teilmenge der Weltdaten, nämlich nur das UK zu bekommen:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; uk = countries[countries$admin == &quot;United Kingdom&quot;,]
&gt; plot(uk); axis(1); axis(2)
</pre></div>
</div>
<img alt="../../_images/r_plot21.png" src="../../_images/r_plot21.png" />
<p>Das sieht für jeden, der dort lebt ein bisschen gequetscht aus, da wir mehr vertraut sind
mit einem Koordinatensystem, das unsere Breitengrade zentriert. An dieser Stelle wurde dem
Objekt jetzt noch kein Koordinatensystem zugeordnet - das können wir mit ein paar mehr
Funktionen überprüfen:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; proj4string(uk)
[1] NA
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">NA</span></tt> steht für fehlende Daten. Wir müssen also dem Objekt ein KBS zuweisen, bevor wir
es mit der spTransform Funktion aus dem rgdal Paket transformieren. Wir transformieren nach EPSG-Code: 27700, was dann dem Ordnance Survey of Great Britain Grid-System entspricht:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; proj4string(uk) = CRS(&quot;+init=epsg:4326&quot;)
&gt; library(rgdal)
&gt; ukos = spTransform(uk, CRS(&quot;+init=epsg:27700&quot;))
&gt; proj4string(ukos)
[1] &quot; +init=epsg:27700 +proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs
+towgs84=446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894&quot;

&gt; plot(ukos); axis(1); axis(2)
</pre></div>
</div>
<p>Dies zeichnet eine Karte der transformierten Daten. Nun wollen wir einige Punkte aus dem
besiedelte Orte Datensatz ergänzen. Wieder erstellen wir eine Teilmenge der Punkte und
transformieren sie zu Ordnance Survey Grid Reference-Koordinaten:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; ukpop = places[places$ADM0NAME == &quot;United Kingdom&quot;,]
&gt; proj4string(ukpop) = CRS(&quot;+init=epsg:4326&quot;)
&gt; ukpop = spTransform(ukpop, CRS(&quot;+init=epsg:27700&quot;))
</pre></div>
</div>
<p>Wir fügen diese Punkte auf die Karte und skalieren die Größe der Punkte entsprechend der
skalierten Quadratwurzel der Bevölkerung (denn das macht ein Symbol mit einer Fläche
proportional zur Bevölkerung), stellen die Farbe auf Rot, die Plot-Einstellung auf
einen soliden blob:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; points(ukpop, cex=sqrt(ukpop$POP_MAX/1000000), col=&quot;red&quot;, pch=19)
&gt; title(&quot;UK Population centre sizes&quot;)
</pre></div>
</div>
<p>und unsere Ausgabekarte erscheint:</p>
<img alt="../../_images/r_plot31.png" src="../../_images/r_plot31.png" />
</div>
<div class="section" id="vignetten">
<h2>Vignetten<a class="headerlink" href="#vignetten" title="Permalink to this headline">¶</a></h2>
<p>In der Vergangenheit waren die Dokumentation für R-Pakete eher lapidar geschriebene Hilfeseiten
für jede Funktion. Jetzt werden Autoren aufgefordert, eine &#8220;Vignette&#8221;, als ein freundliches
Schreiben zur Einführung in das Paket zu erstellen. Wenn Sie die <tt class="docutils literal"><span class="pre">vignette()</span></tt> Funktion
ohne Argumente starten, bekommen Sie eine Liste der Vignetten auf Ihrem System. Versuchen
Sie <tt class="docutils literal"><span class="pre">vignette(&quot;intro_sp&quot;)</span></tt> für eine kurze technische Einführung in die räumlichen Datenstrukturen
von R. Die <tt class="docutils literal"><span class="pre">vignette(&quot;gstat&quot;)</span></tt> gibt ein Tutorial in der Verwendung dieses Paket
für räumliche Interpolation mit Kriging aus.</p>
</div>
<div class="section" id="weiterfuhrende-links">
<h2>Weiterführende Links<a class="headerlink" href="#weiterfuhrende-links" title="Permalink to this headline">¶</a></h2>
<p>Für allgemeine Informationen über R, versuchen Sie die offizielle Seite <a class="reference external" href="http://cran.r-project.org/doc/manuals/R-intro.html">Introduction to R</a> oder eine andere Dokumentation von
der Hauptseite des <a class="reference external" href="http://www.r-project.org/">R Projekts</a>.</p>
<p>Für weitere Informationen über räumliche Aspekte von R, ist wahrscheinlich das <a class="reference external" href="http://cran.r-project.org/web/views/Spatial.html">R Spatial
Task View</a> am hilfreichsten.</p>
<p>Vielleicht wollen Sie auch zuerst die <a class="reference external" href="http://r-spatial.sourceforge.net/">R-Spatial</a> Seite
auf Sourceforge anschauen, um einige weitere Links, einschließlich Informationen über die
R-sig-Geo-Mailingliste zu bekommen.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>

  </body>
</html>