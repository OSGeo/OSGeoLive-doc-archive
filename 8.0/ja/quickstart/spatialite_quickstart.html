<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SpatiaLite クイックスタート &mdash; OSGeo-Live 8.0
 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.0
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="OSGeo-Live 8.0
 Documentation" href="../../index.html" />
    <link rel="up" title="OSGeo-Live 8.0 コンテンツ" href="../overview/overview.html" />
    <link rel="next" title="TileMill Quickstart" href="tilemill_quickstart.html" />
    <link rel="prev" title="Sahana Quickstart" href="sahana_quickstart.html" /> 
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>
    <link rel="shortcut icon" href="../../_images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../_images/favicon.ico" type="image/x-icon">

  </head>
  <body>
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../standards/standards.html">Standards</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
            </ul>
        </div>
    </div>

    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <a class="reference internal image-reference" href="../../_images/logo-spatialite.png"><img alt="project logo" class="align-right" src="../../_images/logo-spatialite.png" style="width: 128.0px; height: 113.0px;" /></a>
<div class="section" id="spatialite">
<h1><a class="toc-backref" href="#id4">SpatiaLite クイックスタート</a><a class="headerlink" href="#spatialite" title="Permalink to this headline">¶</a></h1>
<p>SpatiaLite は地理空間関数を追加した SQLite データベースエンジンです。</p>
<p>SQLite is a Database Management System (DBMS) which is simple, robust, easy to use and very lightweight. Each SQLite database is simply a file. You can freely copy it, compress it, and port it between Windows, Linux, MacOs etc.</p>
<p>このクイックスタートではコマンドラインと GUI アプリケーションからのデータベースの開き方を記載します。Some sample SQL queries are shown.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#spatialite" id="id4">SpatiaLite クイックスタート</a><ul>
<li><a class="reference internal" href="#spatialite-gui" id="id5">spatialite-gui の実行</a></li>
<li><a class="reference internal" href="#spatialite-gis" id="id6">spatialite-gis の実行</a></li>
<li><a class="reference internal" href="#id1" id="id7">spatialite をコマンドラインから起動する</a></li>
<li><a class="reference internal" href="#id2" id="id8">やってみましょう</a></li>
<li><a class="reference internal" href="#id3" id="id9">参考資料</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="spatialite-gui">
<h2><a class="toc-backref" href="#id5">spatialite-gui の実行</a><a class="headerlink" href="#spatialite-gui" title="Permalink to this headline">¶</a></h2>
<p>Spatialite-gui provides a visual interface for viewing and maintaining a
spatialite database. You can easily see the structure of the tables and data
contents using point and click functions, many of which construct
common SQL queries, or craft your own SQL queries.</p>
<p>Let&#8217;s start by viewing a spatialite database, and looking at columns within a
table:</p>
<ul class="simple">
<li>Open the Spatialite GUI by selecting <em class="menuselection">Geospatial-&gt;Databases-&gt;Spatialite GUI</em></li>
</ul>
<ul>
<li><p class="first"><em class="menuselection">File-&gt;Connecting an existing SQLite DB</em> メニューを選択してください。</p>
</li>
<li><p class="first"><tt class="file docutils literal"><span class="pre">/home/user/data/spatialite</span></tt> を開き、 <tt class="file docutils literal"><span class="pre">trento.sqlite</span></tt> を選択してください。</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-trento.png"><img alt="../../_images/spatialite-gui-trento.png" src="../../_images/spatialite-gui-trento.png" style="width: 560.0px; height: 433.3px;" /></a>
</li>
</ul>
<ul>
<li><p class="first">MunicipalHallsView テーブルで右クリックし、&#8221;Show Columns&#8221; を選択してください。</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-columns.png"><img alt="../../_images/spatialite-gui-columns.png" src="../../_images/spatialite-gui-columns.png" style="width: 560.0px; height: 433.3px;" /></a>
</li>
<li><p class="first">You will notice the display broken into 3 areas:</p>
<ol class="arabic simple">
<li>The left panel displays the database hierachy, such as a list of tables, and columns within the table. Right click on elements of the left panel to select from a list of common database actions.</li>
<li>The top right panel shows SQL for the action selected. You can enter your own customised SQL into this panel.</li>
<li>The bottom right panel shows the results of the SQL query.</li>
</ol>
</li>
<li><p class="first">MunicipalHalls で右クリックし、&#8221;Edit table rows&#8221; を選択してください。Notice
the SQL query which has been created for you in the top right pane, and
results in the bottom right.:</p>
<div class="highlight-python"><div class="highlight"><pre>SELECT ROWID, &quot;PK_UID&quot;, &quot;AREA&quot;, &quot;PERIMETER&quot;, &quot;COMU&quot;, &quot;Geometry&quot;
    FROM &quot;MunicipalHalls&quot;
    ORDER BY ROWID
</pre></div>
</div>
</li>
</ul>
<ul>
<li><p class="first">Now lets try tweaking this SQL statement to get NOME and (Lat,Long) for only
the NOME_PROV fields include &#8220;BRESCIA&#8221;, this time using the
MunicipalHallsView.  In the upper right SQL pane type:</p>
<div class="highlight-python"><div class="highlight"><pre>SELECT NOME, X(Geometry) AS Longitude, Y(Geometry) AS Latitude
     FROM &quot;MunicipalHallsView&quot;
     WHERE NOME_PROV LIKE &quot;BRESCIA&quot;;
</pre></div>
</div>
<p>右側の &#8220;Execute SQL&#8221; ボタンをクリックし、and see the results in
the bottom right pane.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-select.png"><img alt="../../_images/spatialite-gui-select.png" src="../../_images/spatialite-gui-select.png" style="width: 560.0px; height: 433.3px;" /></a>
</li>
</ul>
</div>
<div class="section" id="spatialite-gis">
<h2><a class="toc-backref" href="#id6">spatialite-gis の実行</a><a class="headerlink" href="#spatialite-gis" title="Permalink to this headline">¶</a></h2>
<p>Spatialite-gis is a simple viewer for spatialite based layers.</p>
<ul class="simple">
<li>デスクトップの Desktop GIS フォルダから spatialite-gis を実行してください。</li>
<li>&#8220;Connecting existing SQLite DB&#8221; ボタンをクリックして /home/user/data/spatialite/trento.sqlite に接続してください。</li>
</ul>
<p>イタリアのトレント自治県の地図を見ることができるでしょう。</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>Highways レイヤで右クリックして <em class="menuselection">Hide</em> を選択してください。</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>LocalCouncilsTrento レイヤで右クリックして <em class="menuselection">Layer Configuration-&gt;Classify</em> を選択してください。 &#8220;Shape Area&#8221; を選択してください。4 つのクラスを選択して最小と最大に割り当てる色を選択してください。県の範囲の階級区分図が表示されます。</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>LocalCouncils で右クリックして境界線の色を選択し、メニューから <em class="menuselection">Layer configuration-&gt;Graphics</em> を選択して、境界線と異なる色を選択してください。</li>
<li>表示をすこし拡大し、PopulatedPlaces レイヤを右クリックし、 <em class="menuselection">Indentify on</em> を選択してください。人口の多い地域をクリックして、地物の属性を確認してください。</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id7">spatialite をコマンドラインから起動する</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Users needing to script or automate queries will learn the advantages of working with a spatialite database from the command line interface. In this example, we will load a shapefile, and search for schools which are near highway 42.</p>
<ul>
<li><p class="first">Before working from the command line, we need to open a terminal window: <em class="menuselection">LXDE Menu -&gt; Accessories -&gt; LXTerminal</em>.</p>
</li>
<li><p class="first">コンソールを開き、spatialite でサンプルデータベースを開きます。</p>
<blockquote>
<div><p>spatialite /home/user/data/spatialite/trento.sqlite</p>
</div></blockquote>
</li>
<li><p class="first">CLI インターフェースで役立つ以下のようなコマンドがあります:</p>
<div class="highlight-python"><div class="highlight"><pre>.help
.tables
.quit
</pre></div>
</div>
</li>
<li><p class="first">Creating a new spatialite database and loading a shapefile</p>
<blockquote>
<div><ul>
<li><p class="first">Let&#8217;s create a new, empty spatialite database, and load two shapefiles from the north_carolina dataset:</p>
<div class="highlight-python"><div class="highlight"><pre>user@osgeo-6:~$ spatialite test.sqlite
SpatiaLite version ..: 3.1.0-RC2      Supported Extensions:
     - &#39;VirtualShape&#39;        [direct Shapefile access]
     - &#39;VirtualDbf&#39;          [direct DBF access]
     - &#39;VirtualXL&#39;           [direct XLS access]
     - &#39;VirtualText&#39;         [direct CSV/TXT access]
     - &#39;VirtualNetwork&#39;      [Dijkstra shortest path]
     - &#39;RTree&#39;               [Spatial Index - R*Tree]
     - &#39;MbrCache&#39;            [Spatial Index - MBR cache]
     - &#39;VirtualSpatialIndex&#39; [R*Tree metahandler]
     - &#39;VirtualFDO&#39;          [FDO-OGR interoperability]
     - &#39;SpatiaLite&#39;          [Spatial SQL - OGC]
PROJ.4 version ......: Rel. 4.8.0, 6 March 2012
GEOS version ........: 3.3.3-CAPI-1.7.4
SQLite version ......: 3.7.9
Enter &quot;.help&quot; for instructions
spatialite&gt;
spatialite&gt; .loadshp data/north_carolina/shape/schools_wake schools utf-8 3358
spatialite&gt; .loadshp data/north_carolina/shape/roadsmajor roads utf-8 3358
</pre></div>
</div>
</li>
<li><p class="first">Note the format of the .loadshp command: first the shapefile without the .shp extension, then the name of the new spatialite table, next the character encoding, and finally the EPSG code of the shapefile&#8217;s CRS.</p>
</li>
<li><p class="first">Now we&#8217;ll query for schools near to highway 42.:</p>
<div class="highlight-python"><div class="highlight"><pre>spatialite&gt; SELECT s.NAMESHORT, s.ADDRNUMBER, s.ADDRROOT
     ...&gt; FROM schools AS s, roads AS r
     ...&gt; WHERE r.ROAD_NAME = &quot;NC-42&quot; AND
     ...&gt; ST_Distance(s.Geometry, r.Geometry) &lt; 1000;
FUQUAY-VARINA|6600|Johnson Pond Rd
WILLOW SPRINGS|6800|Dwight Rowland Rd
FUQUAY-VARINA|109|N Ennis St
LINCOLN HEIGHTS|307|Bridge St
</pre></div>
</div>
</li>
<li><p class="first">Finally, we output the query to a &#8220;comma separated values&#8221; text file &#8220;schools_rt42.txt&#8221; with the following commands:</p>
<div class="highlight-python"><div class="highlight"><pre>spatialite&gt; .mode csv
spatialite&gt; .output &quot;schools_rt42.txt&quot;
spatialite&gt; SELECT s.NAMESHORT, s.ADDRNUMBER, s.ADDRROOT
    ...&gt; FROM schools AS s, roads AS r
    ...&gt; WHERE r.ROAD_NAME = &quot;NC-42&quot; AND
    ...&gt; ST_Distance(s.Geometry, r.Geometry) &lt; 1000;
spatialite&gt;.q
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id8">やってみましょう</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>次のステップとして以下のようなことをやってみるとよいでしょう。</p>
<ul class="simple">
<li>spatialite-gui でのジオメトリについて調べてみましょう</li>
<li>QGIS で SpatiaLite レイヤを表示、編集してみましょう</li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id9">参考資料</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>SpatiaLite についてより詳しく学ぶには <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">SpatiaLite project page</a> を参照してください。</p>
<p>また、チュートリアル <a class="reference external" href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook/index.html">Spatialite cookbook</a> が公開されています。</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!--
			<a href="../../en/index.html">English</a> |
			<a href="../../es/index.html">Español</a> |
			<a href="../../ca/index.html">Català</a> |
			<a href="../../fr/index.html">Français</a> |
			<a href="../../de/index.html">Deutsch</a> |
			<a href="../../it/index.html">Italiano</a> |
			<a href="../../pl/index.html">Polski</a> |
			<a href="../../el/index.html">Ελληνικά</a> |
			<a href="../../ru/index.html">Русский</a> |
			<a href="../../zh/index.html">中文</a> |
			<a href="../../id/index.html">Bahasa Indonesia</a> |
			<a href="../../ko/index.html">한국어</a> |
			<a href="../../ja/index.html">日本語</a>
		-->
		<!-- geo-order: West to East, UK to Japan -->
			<a href="javascript:defaultRedirect('en')">English</a> |
<!--			<a href="javascript:defaultRedirect('pt')">Portugus</a> | -->
			<a href="javascript:defaultRedirect('es')">Español</a> |
			<a href="javascript:defaultRedirect('ca')">Català</a> |
			<a href="javascript:defaultRedirect('fr')">Français</a> |
			<a href="javascript:defaultRedirect('de')">Deutsch</a> |
			<a href="javascript:defaultRedirect('it')">Italiano</a> |
			<a href="javascript:defaultRedirect('pl')">Polski</a> |
			<a href="javascript:defaultRedirect('el')">Ελληνικά</a> |
			<a href="javascript:defaultRedirect('ru')">Русский</a> |
			<a href="javascript:defaultRedirect('zh')">中文</a> |
<!--			<a href="javascript:defaultRedirect('id')">Bahasa Indonesia</a> | -->
			<a href="javascript:defaultRedirect('ko')">한국어</a> |
			<a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>

  </body>
</html>